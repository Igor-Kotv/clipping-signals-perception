"use strict";(self.webpackChunkreact_version=self.webpackChunkreact_version||[]).push([[63],{63:(t,e,i)=>{i.r(e),i.d(e,{decode:()=>_,encode:()=>D});const s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t=>void 0!==t?": "+t:"";return class extends Error{origMessage;constructor(i){super(t(i)+e(i)),this.origMessage=void 0!==i?String(i):""}}},r=s((()=>"illegal argument(s)")),h=t=>{throw new r(t)},o=s((()=>"illegal state"));class n{buffer;start;limit;pos;bitPos;bit;constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length<<3;this.buffer=t,this.start=e,this.limit=i,this.seek(e)}*[Symbol.iterator](){let t=this.start,e=t>>>3,i=7-(7&t);for(;t<this.limit;)yield this.buffer[e]>>>i&1,--i<0&&(e++,i=7),t++}get length(){return this.limit}get position(){return this.bitPos}seek(t){return(t<this.start||t>=this.limit)&&h(`seek pos out of bounds: ${t}`),this.pos=t>>>3,this.bit=8-(7&t),this.bitPos=t,this}read(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t>32)return 4294967296*this.read(t-32,e)+this.read(32,e);if(t>8){let i=0,s=-8&t,r=t-s;for(r>0&&(i=this._read(r,e));s>0;)i=(i<<8|this._read(8,e))>>>0,s-=8;return i}return this._read(t,e)}readFields(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.map((t=>this.read(t,e)))}readWords(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=[];for(;t-- >0;)s.push(this.read(e,i));return s}readStruct(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.reduce(((t,i)=>{let[s,r]=i;return t[s]=this.read(r,e),t}),{})}readBit(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.checkLimit(1),this.bit--,this.bitPos++;let t=this.buffer[this.pos]>>>this.bit&1;return 0===this.bit&&(this.pos++,this.bit=8),t}_read(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.checkLimit(t);let e,i=this.bit-t;return i>=0?(this.bit=i,e=this.buffer[this.pos]>>>i&(1<<t)-1,0===i&&(this.pos++,this.bit=8)):(e=(this.buffer[this.pos++]&(1<<this.bit)-1)<<-i,this.bit=8+i,e|=this.buffer[this.pos]>>>this.bit),this.bitPos+=t,e}checkLimit(t){this.bitPos+t>this.limit&&(t=>{throw new o(t)})("can't read past EOF")}}const l=16,a=20,f=256*a,u=4,b=1903124838,c=(t,e)=>Math.floor(8+4*u*t+8*e*t);function d(t,e,i){return t<e?e:t>i?i:t}function w(t,e){return{history:new Int16Array(t||4),weights:new Int16Array(e||4)}}function g(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]>>13}function p(t,e,i,s){let r=s>>4;t[0]+=e[0]<0?-r:r,t[1]+=e[1]<0?-r:r,t[2]+=e[2]<0?-r:r,t[3]+=e[3]<0?-r:r,e[0]=e[1],e[1]=e[2],e[2]=e[3],e[3]=i}const m=t=>Math.sign(t)*Math.round(Math.abs(t)),v=Array(16).fill().map(((t,e)=>m(Math.pow(e+1,2.75)))),y=[.75,-.75,2.5,-2.5,4.5,-4.5,7,-7],M=v.map((t=>y.map((e=>m(e*t)))));function k(t,e,i,s,r){const h=t.read(8),o=t.read(24),n=t.read(16),l=t.read(16),f=Math.floor(l-8-4*u*h),b=Math.floor(f/8)*a;if(h!=e.channels||o!=e.sampleRate||n*h>b)throw new Error("invalid frame header data");for(let a=0;a<h;a++){const e=i[a];for(let i=0;i<u;i++){let s=t.read(16);e.history[i]=s}for(let i=0;i<u;i++){let s=t.read(16);e.weights[i]=s}}for(let u=0;u<n;u+=a)for(let e=0;e<h;e++){const h=t.read(4),o=M[h],l=u,f=Math.min(u+a,n)-l,b=i[e],c=s[e];let w=r+l;const m=b.weights,v=b.history;let y=60;for(let e=0;e<f;e++){const e=g(m,v),i=o[t.read(3)],s=d(e+i,-32768,32767),r=s<0?s/32768:s/32767;c[w++]=r,p(m,v,s,i),y-=3}y>0&&t.read(y)}return n}function _(t){if(t.byteLength<l)throw new Error(`QOA file size must be >= ${l}`);const e=new n(t),i=function(t){if(t.read(32)!==b)throw new Error("Not a QOA file; expected magic number 'qoaf'");const e={samples:t.read(32),channels:t.read(8),sampleRate:t.read(24)};return t.seek(64),e}(e),s=[],r=[];for(let n=0;n<i.channels;n++){const t=new Float32Array(i.samples);s.push(t),r.push(w())}let h=0,o=0;do{o=k(e,i,r,s,h),h+=o}while(o&&h<i.samples);return{...i,channelData:s}}const A=4294967296;class P{buffer;start;pos;bit;bitPos;constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.buffer="undefined"===typeof t?new Uint8Array(16):"number"===typeof t?new Uint8Array(t):t,this.start=e,this.seek(e),this.buffer[this.pos]&=~((1<<this.bit)-1)}get position(){return this.bitPos}seek(t){return(t<this.start||t>=this.buffer.length<<3)&&h(`seek pos out of bounds: ${t}`),this.pos=t>>>3,this.bit=8-(7&t),this.bitPos=t,this}bytes(){return this.buffer.slice(0,this.pos+(7&this.bit?1:0))}reader(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new n(this.buffer,t,this.position)}write(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e>32){let i=Math.floor(t/A);this.write(i,e-32),this.write(t-i*A,32)}else if(e>8){let i=-8&e,s=e-i;for(s>0&&this._write(t>>>i,s),i-=8;i>=0;)this._write(t>>>i,8),i-=8}else this._write(t,e);return this}writeWords(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,s=t[Symbol.iterator]();for(;e=s.next(),!e.done;)this.write(e.value,i)}writeBit(t){return this.bit--,this.buffer[this.pos]=this.buffer[this.pos]&~(1<<this.bit)|t<<this.bit,0===this.bit&&(this.ensureSize(),this.bit=8),this.bitPos++,this}_write(t,e){t&=(1<<e)-1;let i=this.buffer,s=this.pos,r=this.bit,h=r-e,o=r<8?~((1<<r)-1):0;return h>=0?(o|=(1<<h)-1,i[s]=i[s]&o|t<<h&~o,0===h?(this.ensureSize(),this.bit=8):this.bit=h):(this.bit=r=8+h,i[s]=i[s]&o|t>>>-h&~o,this.ensureSize(),this.buffer[this.pos]=this.buffer[this.pos]&(1<<r)-1|t<<r&255),this.bitPos+=e,this}ensureSize(){if(++this.pos===this.buffer.length){let t=new Uint8Array(this.buffer.length<<1);t.set(this.buffer),this.buffer=t}}}const S=v.map((t=>Math.floor((65536+t-1)/t))),E=[7,7,7,5,5,3,3,1,0,0,2,2,4,4,6,6,6];function R(t,e){let i=t*S[e]+32768>>16;return i=i+((t>0)-(t<0))-((i>0)-(i<0)),i}function z(t,e,i,s,r){const h=e.channels,o=e.sampleRate,n=e.channelData,l=(e.samples,Math.floor((r+a-1)/a)),f=c(h,l);t.write(h,8),t.write(o,24),t.write(r,16),t.write(f,16);for(let a=0;a<h;a++){const e=i[a];e.weights[0]*e.weights[0]+e.weights[1]*e.weights[1]+e.weights[2]*e.weights[2]+e.weights[3]*e.weights[3]>805306367&&(e.weights[0]=0,e.weights[1]=0,e.weights[2]=0,e.weights[3]=0);for(let i=0;i<u;i++)t.write(e.history[i],16);for(let i=0;i<u;i++)t.write(e.weights[i],16)}for(let u=0;u<r;u+=a)for(let e=0;e<h;e++){const h=d(a,0,r-u),o=u;let l,f,b,c=Number.MAX_SAFE_INTEGER;const m=n[e];for(let t=0;t<16;t++){let r=w(i[e].history,i[e].weights);const n=M[t];let a=[],u=0,v=o+s;for(let e=0;e<h;e++){let e=m[v++];e=Math.floor(Math.fround(e<0?32768*e:32767*e)),e=d(e,-32768,32767);let i=g(r.weights,r.history),s=d(R(e-i,t),-8,8),h=E[s+8],o=n[h],l=d(i+o,-32768,32767),f=e-l;if(u+=f*f,u>c)break;p(r.weights,r.history,l,o),a.push(h)}u<c&&(c=u,l=a,f=t,b=r)}i[e]=b,t.write(f,4);for(let e=0;e<a;e++){const i=e<l.length?l[e]:0;t.write(i,3)}}}function D(){let{channelData:t,sampleRate:e=44100}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=t.length,s=i>=1?t[0].length:0,r={samples:s,channels:i,channelData:t,sampleRate:e},h=(s+f-1)/f,o=8+8*h+h*u*4*r.channels+8*((s+a-1)/a)*r.channels,n=[];for(let a=0;a<r.channels;a++){const t=w();t.weights[0]=0,t.weights[1]=0,t.weights[2]=-8192,t.weights[3]=16384,n.push(t)}const l=new P(o);l.write(b,32),l.write(s,32);let c=f;for(let a=0;a<s;a+=c)c=d(f,0,s-a),z(l,r,n,a,c);return l.bytes()}}}]);
//# sourceMappingURL=63.1c1ca3df.chunk.js.map